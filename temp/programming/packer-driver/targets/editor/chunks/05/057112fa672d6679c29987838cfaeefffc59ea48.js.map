{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-2d/assets/Scripts/Poolable/PiecesPool.ts"],"names":["_decorator","instantiate","Prefab","Poolable","PoolHelper","ccclass","property","PiecesPool","createIndex","creator","obj","piecesPrefabs","length","setParent","node","onLoad","registerPool"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,W,OAAAA,W;AAAmBC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAGjBO,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ,CAAC,CAACJ,MAAD,CAAD,C,2BAHb,MACaK,UADb;AAAA;AAAA,gCACyC;AAAA;AAAA;;AAAA;;AAAA,eAK7BC,WAL6B,GAKN,CALM;AAAA;;AAO3BC,QAAAA,OAAO,GAAS;AACtB,gBAAMC,GAAG,GAAGT,WAAW,CAAC,KAAKU,aAAL,CAAmB,KAAKH,WAAxB,CAAD,CAAvB;AACA,eAAKA,WAAL,GAAmB,CAAC,KAAKA,WAAL,GAAmB,CAApB,IAA0B,KAAKG,aAAL,CAAmBC,MAAhE;AACAF,UAAAA,GAAG,CAACG,SAAJ,CAAc,KAAKC,IAAnB;AACA,iBAAOJ,GAAP;AACH;;AAESK,QAAAA,MAAM,GAAS;AACrB,gBAAMA,MAAN;AACA;AAAA;AAAA,wCAAWC,YAAX,CAAwBT,UAAxB,EAAqC,IAArC;AACH;;AAjBoC,O;;;;;iBAGH,E","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\nimport { Poolable } from '../../SooLib/Optimization/Poolable';\nimport { PoolHelper } from '../PoolHelper';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PiecesPool')\nexport class PiecesPool extends Poolable {\n    \n    @property([Prefab])\n    private piecesPrefabs: Prefab[] = [];\n\n    private createIndex : number = 0;\n\n    protected creator(): Node {\n        const obj = instantiate(this.piecesPrefabs[this.createIndex]);\n        this.createIndex = (this.createIndex + 1 ) % this.piecesPrefabs.length;\n        obj.setParent(this.node);\n        return obj;\n    }\n\n    protected onLoad(): void {\n        super.onLoad();\n        PoolHelper.registerPool(PiecesPool , this);\n    }\n}\n\n"]}