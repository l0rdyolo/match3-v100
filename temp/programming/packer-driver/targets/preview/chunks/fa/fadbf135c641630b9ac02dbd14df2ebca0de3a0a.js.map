{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-v100/assets/Scripts/Match/MatchStrategies/HorizontalMatchStrategy.ts"],"names":["HorizontalMatchStrategy","directions","dx","dy","checkMatch","pieceA","pieceB","grid","firstCheck","checkSinglePieceMatch","secondCheck","concat","piece","matches","row","col","i","currentPiece","isEmpty","node","name","push","length"],"mappings":";;;8BAKaA,uB;;;;;;;;;;;;;;;;;;;;;;;yCAAAA,uB,GAAN,MAAMA,uBAAN,CAAuD;AAAA;AAAA,eACnDC,UADmD,GACtC,CAChB;AAAEC,YAAAA,EAAE,EAAE,CAAN;AAASC,YAAAA,EAAE,EAAE;AAAb,WADgB,EACE;AAClB;AAAED,YAAAA,EAAE,EAAE,CAAN;AAASC,YAAAA,EAAE,EAAE,CAAC;AAAd,WAFgB,CAEE;AAFF,WADsC;AAAA;;AAMnDC,QAAAA,UAAU,CAACC,MAAD,EAAiBC,MAAjB,EAAiCC,IAAjC,EAAqD;AAClE,cAAMC,UAAU,GAAG,KAAKC,qBAAL,CAA2BJ,MAA3B,EAAoCE,IAApC,CAAnB;AACA,cAAIG,WAAW,GAAG,KAAKD,qBAAL,CAA2BH,MAA3B,EAAoCC,IAApC,CAAlB;AACAG,UAAAA,WAAW,GAAGA,WAAW,CAACC,MAAZ,CAAmBH,UAAnB,CAAd;AACA,iBAAOE,WAAP;AAAmB;AACtB;;AAGMD,QAAAA,qBAAqB,CAACG,KAAD,EAAeL,IAAf,EAA+B;AACvD,cAAMM,OAAgB,GAAG,CAACD,KAAD,CAAzB;AACA,cAAME,GAAG,GAAGF,KAAK,CAACE,GAAlB;AACA,cAAMC,GAAG,GAAGH,KAAK,CAACG,GAAlB,CAHuD,CAKvD;;AACA,eAAK,IAAIC,CAAC,GAAGD,GAAG,GAAG,CAAnB,EAAsBC,CAAC,IAAI,CAA3B,EAA8BA,CAAC,EAA/B,EAAmC;AAC/B,gBAAMC,YAAY,GAAGV,IAAI,CAACO,GAAD,CAAJ,CAAUE,CAAV,CAArB;AACA,gBAAGC,YAAY,CAACC,OAAb,IAAwBN,KAAK,CAACM,OAAjC,EAA0C;;AAE1C,gBAAID,YAAY,CAACE,IAAb,CAAkBC,IAAlB,KAA2BR,KAAK,CAACO,IAAN,CAAWC,IAA1C,EAAgD;AAC5CP,cAAAA,OAAO,CAACQ,IAAR,CAAaJ,YAAb;AACH,aAFD,MAEO;AACH,oBADG,CACI;AACV;AACJ,WAfsD,CAiBvD;;;AACA,eAAK,IAAID,EAAC,GAAGD,GAAG,GAAG,CAAnB,EAAsBC,EAAC,GAAGT,IAAI,CAACO,GAAD,CAAJ,CAAUQ,MAApC,EAA4CN,EAAC,EAA7C,EAAiD;AAC7C,gBAAMC,aAAY,GAAGV,IAAI,CAACO,GAAD,CAAJ,CAAUE,EAAV,CAArB;AACA,gBAAGC,aAAY,CAACC,OAAb,IAAwBN,KAAK,CAACM,OAAjC,EAA0C;;AAC1C,gBAAID,aAAY,CAACE,IAAb,CAAkBC,IAAlB,KAA2BR,KAAK,CAACO,IAAN,CAAWC,IAA1C,EAAgD;AAC5CP,cAAAA,OAAO,CAACQ,IAAR,CAAaJ,aAAb;AACH,aAFD,MAEO;AACH,oBADG,CACI;AACV;AACJ;;AAED,iBAAOJ,OAAO,CAACS,MAAR,IAAkB,CAAlB,GAAsBT,OAAtB,GAAgC,EAAvC;AACH;;AA3CyD,O","sourcesContent":["import { GridManager } from \"../../Grid/GridManager\";\r\nimport { Piece } from \"../../Piece/Piece\";\r\nimport { MatchChecker } from \"../MatchChecker\";\r\nimport { MatchStrategy } from \"./IMatchStrategy\";\r\n\r\nexport class HorizontalMatchStrategy implements MatchStrategy {\r\n    public directions = [\r\n        { dx: 0, dy: 1 }, // Right\r\n        { dx: 0, dy: -1 } // Left\r\n    ];\r\n\r\n    public checkMatch(pieceA: Piece , pieceB : Piece ,grid : Piece[][] )  {\r\n        const firstCheck = this.checkSinglePieceMatch(pieceA , grid);\r\n        let secondCheck = this.checkSinglePieceMatch(pieceB , grid);\r\n        secondCheck = secondCheck.concat(firstCheck)\r\n        return secondCheck;;\r\n    }\r\n\r\n\r\n    public checkSinglePieceMatch(piece: Piece, grid: Piece[][]){\r\n        const matches: Piece[] = [piece];\r\n        const row = piece.row;\r\n        const col = piece.col;\r\n\r\n        // Soldaki elemanları kontrol et\r\n        for (let i = col - 1; i >= 0; i--) {\r\n            const currentPiece = grid[row][i];\r\n            if(currentPiece.isEmpty || piece.isEmpty) break;\r\n\r\n            if (currentPiece.node.name === piece.node.name) {\r\n                matches.push(currentPiece);\r\n            } else {\r\n                break; // Eşleşme kesilirse dur\r\n            }\r\n        }\r\n\r\n        // Sağdaki elemanları kontrol et\r\n        for (let i = col + 1; i < grid[row].length; i++) {\r\n            const currentPiece = grid[row][i];\r\n            if(currentPiece.isEmpty || piece.isEmpty) break;\r\n            if (currentPiece.node.name === piece.node.name) {\r\n                matches.push(currentPiece);\r\n            } else {\r\n                break; // Eşleşme kesilirse dur\r\n            }\r\n        }\r\n\r\n        return matches.length >= 3 ? matches : [];\r\n    }\r\n}"]}