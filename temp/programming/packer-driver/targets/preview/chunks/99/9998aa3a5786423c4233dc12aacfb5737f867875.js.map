{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-v100/assets/Scripts/PoolHelper.ts"],"names":["PoolHelper","registerPool","poolableType","poolableInstance","pools","set","get","Error","name","Pool","release","obj","Map"],"mappings":";;;+EAGaA,U;;;;;;;;;;;;;;;;;;;;;;;4BAAAA,U,GAAN,MAAMA,UAAN,CAAiB;AAGM,eAAZC,YAAY,CAACC,YAAD,EAAgCC,gBAAhC,EAAkE;AACxF,eAAKC,KAAL,CAAWC,GAAX,CAAeH,YAAf,EAA6BC,gBAA7B;AACH;;AAEgB,eAAHG,GAAG,CAAqBJ,YAArB,EAA0D;AACvE,cAAMC,gBAAgB,GAAG,KAAKC,KAAL,CAAWE,GAAX,CAAeJ,YAAf,CAAzB;;AACA,cAAI,CAACC,gBAAL,EAAuB;AACnB,kBAAM,IAAII,KAAJ,mCAA0CL,YAAY,CAACM,IAAvD,CAAN;AACH;;AACD,iBAAOL,gBAAgB,CAACM,IAAjB,CAAsBH,GAAtB,EAAP;AACH;;AAEoB,eAAPI,OAAO,CAAqBR,YAArB,EAAoDS,GAApD,EAAqE;AACtF,cAAMR,gBAAgB,GAAG,KAAKC,KAAL,CAAWE,GAAX,CAAeJ,YAAf,CAAzB;;AACA,cAAI,CAACC,gBAAL,EAAuB;AACnB,kBAAM,IAAII,KAAJ,mCAA0CL,YAAY,CAACM,IAAvD,CAAN;AACH;;AACDL,UAAAA,gBAAgB,CAACM,IAAjB,CAAsBC,OAAtB,CAA8BC,GAA9B;AACH;;AArBmB,O;;AAAXX,MAAAA,U,CACMI,K,GAAwC,IAAIQ,GAAJ,E","sourcesContent":["import { Node } from \"cc\";\r\nimport { Poolable } from \"../SooLib/Optimization/Poolable\";\r\n\r\nexport class PoolHelper {\r\n    private static pools: Map<typeof Poolable, Poolable> = new Map();\r\n\r\n    public static registerPool(poolableType: typeof Poolable, poolableInstance: Poolable): void {\r\n        this.pools.set(poolableType, poolableInstance);\r\n    }\r\n\r\n    public static get<T extends Poolable>(poolableType: typeof Poolable): Node {\r\n        const poolableInstance = this.pools.get(poolableType);\r\n        if (!poolableInstance) {\r\n            throw new Error(`No pool registered for type: ${poolableType.name}`);\r\n        }\r\n        return poolableInstance.Pool.get();\r\n    }\r\n\r\n    public static release<T extends Poolable>(poolableType: typeof Poolable, obj: Node): void {\r\n        const poolableInstance = this.pools.get(poolableType);\r\n        if (!poolableInstance) {\r\n            throw new Error(`No pool registered for type: ${poolableType.name}`);\r\n        }\r\n        poolableInstance.Pool.release(obj);\r\n    }\r\n}"]}