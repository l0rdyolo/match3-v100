{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-2d/assets/Scripts/PoolHelper.ts"],"names":["PoolHelper","registerPool","poolableType","poolableInstance","pools","set","get","Error","name","Pool","release","obj","Map"],"mappings":";;;+EAGaA,U;;;;;;;;;;;;;;;;;;;;;;;4BAAAA,U,GAAN,MAAMA,UAAN,CAAiB;AAGM,eAAZC,YAAY,CAACC,YAAD,EAAgCC,gBAAhC,EAAkE;AACxF,eAAKC,KAAL,CAAWC,GAAX,CAAeH,YAAf,EAA6BC,gBAA7B;AACH;;AAEgB,eAAHG,GAAG,CAAqBJ,YAArB,EAA0D;AACvE,cAAMC,gBAAgB,GAAG,KAAKC,KAAL,CAAWE,GAAX,CAAeJ,YAAf,CAAzB;;AACA,cAAI,CAACC,gBAAL,EAAuB;AACnB,kBAAM,IAAII,KAAJ,mCAA0CL,YAAY,CAACM,IAAvD,CAAN;AACH;;AACD,iBAAOL,gBAAgB,CAACM,IAAjB,CAAsBH,GAAtB,EAAP;AACH;;AAEoB,eAAPI,OAAO,CAAqBR,YAArB,EAAoDS,GAApD,EAAqE;AACtF,cAAMR,gBAAgB,GAAG,KAAKC,KAAL,CAAWE,GAAX,CAAeJ,YAAf,CAAzB;;AACA,cAAI,CAACC,gBAAL,EAAuB;AACnB,kBAAM,IAAII,KAAJ,mCAA0CL,YAAY,CAACM,IAAvD,CAAN;AACH;;AACDL,UAAAA,gBAAgB,CAACM,IAAjB,CAAsBC,OAAtB,CAA8BC,GAA9B;AACH;;AArBmB,O;;AAAXX,MAAAA,U,CACMI,K,GAAwC,IAAIQ,GAAJ,E","sourcesContent":["import { Node } from \"cc\";\nimport { Poolable } from \"../SooLib/Optimization/Poolable\";\n\nexport class PoolHelper {\n    private static pools: Map<typeof Poolable, Poolable> = new Map();\n\n    public static registerPool(poolableType: typeof Poolable, poolableInstance: Poolable): void {\n        this.pools.set(poolableType, poolableInstance);\n    }\n\n    public static get<T extends Poolable>(poolableType: typeof Poolable): Node {\n        const poolableInstance = this.pools.get(poolableType);\n        if (!poolableInstance) {\n            throw new Error(`No pool registered for type: ${poolableType.name}`);\n        }\n        return poolableInstance.Pool.get();\n    }\n\n    public static release<T extends Poolable>(poolableType: typeof Poolable, obj: Node): void {\n        const poolableInstance = this.pools.get(poolableType);\n        if (!poolableInstance) {\n            throw new Error(`No pool registered for type: ${poolableType.name}`);\n        }\n        poolableInstance.Pool.release(obj);\n    }\n}"]}