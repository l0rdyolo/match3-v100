{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-v100/assets/Scripts/Match/MatchStrategies/VerticalMatchStrategy.ts"],"names":["VerticalMatchStrategy","directions","dx","dy","checkMatch","pieceA","pieceB","grid","firstCheck","checkSinglePieceMatch","secondCheck","concat","piece","matches","row","col","i","currentPiece","isEmpty","node","name","push","length"],"mappings":";;;8BAIaA,qB;;;;;;;;;;;;;;;;;;;;;;;uCAAAA,qB,GAAN,MAAMA,qBAAN,CAAqD;AAAA;AAAA,eACjDC,UADiD,GACpC,CAChB;AAAEC,YAAAA,EAAE,EAAE,CAAN;AAASC,YAAAA,EAAE,EAAE;AAAb,WADgB,EACE;AAClB;AAAED,YAAAA,EAAE,EAAE,CAAC,CAAP;AAAUC,YAAAA,EAAE,EAAE;AAAd,WAFgB,CAEE;AAFF,WADoC;AAAA;;AAMjDC,QAAAA,UAAU,CAACC,MAAD,EAAiBC,MAAjB,EAAkCC,IAAlC,EAAoD;AACjE,cAAMC,UAAU,GAAG,KAAKC,qBAAL,CAA2BJ,MAA3B,EAAoCE,IAApC,CAAnB;AACA,cAAIG,WAAW,GAAG,KAAKD,qBAAL,CAA2BH,MAA3B,EAAoCC,IAApC,CAAlB;AACAG,UAAAA,WAAW,GAAGA,WAAW,CAACC,MAAZ,CAAmBH,UAAnB,CAAd;AACA,iBAAOE,WAAP;AAAmB;AACtB;;AAEMD,QAAAA,qBAAqB,CAACG,KAAD,EAAeL,IAAf,EAA+B;AACvD;AACA,cAAMM,OAAgB,GAAG,CAACD,KAAD,CAAzB;AACA,cAAME,GAAG,GAAGF,KAAK,CAACE,GAAlB;AACA,cAAMC,GAAG,GAAGH,KAAK,CAACG,GAAlB;;AAEA,eAAK,IAAIC,CAAC,GAAGF,GAAG,GAAG,CAAnB,EAAsBE,CAAC,IAAI,CAA3B,EAA8BA,CAAC,EAA/B,EAAmC;AAC/B,gBAAMC,YAAY,GAAGV,IAAI,CAACS,CAAD,CAAJ,CAAQD,GAAR,CAArB;AACA,gBAAGE,YAAY,CAACC,OAAb,IAAwBN,KAAK,CAACM,OAAjC,EAA0C;;AAC1C,gBAAIX,IAAI,CAACS,CAAD,CAAJ,CAAQD,GAAR,EAAaI,IAAb,CAAkBC,IAAlB,KAA2BR,KAAK,CAACO,IAAN,CAAWC,IAA1C,EAAgD;AAC5CP,cAAAA,OAAO,CAACQ,IAAR,CAAaJ,YAAb;AACH,aAFD,MAEO;AACH;AACH;AACJ;;AAED,eAAK,IAAID,EAAC,GAAGF,GAAG,GAAG,CAAnB,EAAsBE,EAAC,GAAGT,IAAI,CAACe,MAA/B,EAAuCN,EAAC,EAAxC,EAA4C;AACxC,gBAAMC,aAAY,GAAGV,IAAI,CAACS,EAAD,CAAJ,CAAQD,GAAR,CAArB;AACA,gBAAGE,aAAY,CAACC,OAAb,IAAwBN,KAAK,CAACM,OAAjC,EAA0C;;AAE1C,gBAAID,aAAY,CAACE,IAAb,CAAkBC,IAAlB,KAA2BR,KAAK,CAACO,IAAN,CAAWC,IAA1C,EAAgD;AAC5CP,cAAAA,OAAO,CAACQ,IAAR,CAAaJ,aAAb;AACH,aAFD,MAEO;AACH;AACH;AACJ;;AACD,iBAAOJ,OAAO,CAACS,MAAR,IAAkB,CAAlB,GAAsBT,OAAtB,GAAgC,EAAvC;AACH;;AAxCuD,O","sourcesContent":["import { GridManager } from \"../../Grid/GridManager\";\nimport { Piece } from \"../../Piece/Piece\";\nimport { MatchStrategy } from \"./IMatchStrategy\";\n\nexport class VerticalMatchStrategy implements MatchStrategy {\n    public directions = [\n        { dx: 1, dy: 0 }, // Down\n        { dx: -1, dy: 0 } // Up\n    ];\n\n    public checkMatch(pieceA: Piece , pieceB : Piece , grid: Piece[][])  {\n        const firstCheck = this.checkSinglePieceMatch(pieceA , grid);\n        let secondCheck = this.checkSinglePieceMatch(pieceB , grid)\n        secondCheck = secondCheck.concat(firstCheck)\n        return secondCheck;;\n    }\n\n    public checkSinglePieceMatch(piece: Piece, grid: Piece[][]){\n        // VerticalMatchStrategy.ts\n        const matches: Piece[] = [piece];\n        const row = piece.row;\n        const col = piece.col;\n\n        for (let i = row - 1; i >= 0; i--) {\n            const currentPiece = grid[i][col]\n            if(currentPiece.isEmpty || piece.isEmpty) break;\n            if (grid[i][col].node.name === piece.node.name) {\n                matches.push(currentPiece);\n            } else {\n                break; \n            }\n        }\n\n        for (let i = row + 1; i < grid.length; i++) {\n            const currentPiece = grid[i][col]\n            if(currentPiece.isEmpty || piece.isEmpty) break;\n\n            if (currentPiece.node.name === piece.node.name) {\n                matches.push(currentPiece);\n            } else {\n                break; \n            }\n        }\n        return matches.length >= 3 ? matches : [];\n    }\n}"]}