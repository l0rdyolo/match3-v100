{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/match3-v100/assets/Scripts/SooLib/Joystick/JoytickEventHandler.ts"],"names":["_decorator","Component","FollowJoystick","Observer","ccclass","property","JoytickEventHandler","josytickObserver","onLoad","event","type","showJosytickParts","parts","ring","stick","hideJosytickParts","joystick","subscribe","active"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;qCAGjBM,mB,WADZF,OAAO,CAAC,qBAAD,C,UAEHC,QAAQ;AAAA;AAAA,2C,2BAFb,MACaC,mBADb,SACyCL,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA,eAIvCM,gBAJuC;AAAA;;AAMrCC,QAAAA,MAAM,GAAS;AACrB,eAAKD,gBAAL,GAAwB;AAAA;AAAA,oCACpBE,KAAK,IAAI;AACL,gBAAIA,KAAK,CAACC,IAAN,KAAe,OAAnB,EAA4B;AACxB,mBAAKC,iBAAL,CAAuBF,KAAK,CAACG,KAAN,CAAYC,IAAnC,EAAyCJ,KAAK,CAACG,KAAN,CAAYE,KAArD;AACH,aAFD,MAEO,IAAIL,KAAK,CAACC,IAAN,KAAe,KAAnB,EAA0B;AAC7B,mBAAKK,iBAAL,CAAuBN,KAAK,CAACG,KAAN,CAAYC,IAAnC,EAAyCJ,KAAK,CAACG,KAAN,CAAYE,KAArD;AACH;AACJ,WAPmB,CAAxB;AAUA,eAAKE,QAAL,CAAcC,SAAd,CAAwB,KAAKV,gBAA7B;AACH;;AAEOI,QAAAA,iBAAiB,CAACE,IAAD,EAAaC,KAAb,EAA0B;AAC/CD,UAAAA,IAAI,CAACK,MAAL,GAAc,IAAd;AACAJ,UAAAA,KAAK,CAACI,MAAN,GAAe,IAAf;AACH;;AAEOH,QAAAA,iBAAiB,CAACF,IAAD,EAAaC,KAAb,EAA0B;AAC/CD,UAAAA,IAAI,CAACK,MAAL,GAAc,KAAd;AACAJ,UAAAA,KAAK,CAACI,MAAN,GAAe,KAAf;AACH;;AA5B8C,O;;;;;iBAEZ,I","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { FollowJoystick } from './FollowJoystick';\nimport { Observer } from '../Runtime/Observer';\nimport { JoystickEvent } from './JoystickObservable';\nconst { ccclass, property } = _decorator;\n\n@ccclass('JoytickEventHandler')\nexport class JoytickEventHandler extends Component {\n    @property(FollowJoystick)\n    private joystick: FollowJoystick = null;\n\n    private josytickObserver: Observer<JoystickEvent>;\n\n    protected onLoad(): void {\n        this.josytickObserver = new Observer<JoystickEvent>(\n            event => {\n                if (event.type === 'start') {\n                    this.showJosytickParts(event.parts.ring, event.parts.stick);\n                } else if (event.type === 'end') {\n                    this.hideJosytickParts(event.parts.ring, event.parts.stick);\n                }\n            }\n        );\n\n        this.joystick.subscribe(this.josytickObserver);\n    }\n\n    private showJosytickParts(ring: Node, stick: Node) {\n        ring.active = true;\n        stick.active = true;\n    }\n\n    private hideJosytickParts(ring: Node, stick: Node) {\n        ring.active = false;\n        stick.active = false;\n    }\n}\n\n"]}