{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Masa%C3%BCst%C3%BC/match3-2d/assets/Scripts/Effects/EffectManager.ts"],"names":["_decorator","Component","tween","Vec3","sleep","ccclass","property","EffectManager","decreaseScale","target","duration","yoyo","Promise","resolve","to","scale","ZERO","call","ONE","start","movePiece","position","fallPieceToGridPosition","delay"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACpCC,MAAAA,K,iBAAAA,K;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;+BAGjBO,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb,SACmCN,SADnC,CAC6C;AACV,eAAbO,aAAa,CAC/BC,MAD+B,EAE/BC,QAF+B,EAG/BC,IAH+B,EAIhB;AAAA;AACf,mBAAO,IAAIC,OAAJ,CAAmBC,OAAD,IAAa;AACpCX,cAAAA,KAAK,CAACO,MAAD,CAAL,CACGK,EADH,CACMJ,QADN,EACgB;AAAEK,gBAAAA,KAAK,EAAEZ,IAAI,CAACa;AAAd,eADhB,EAEGC,IAFH,CAEQ,MAAM;AACVJ,gBAAAA,OAAO;;AACP,oBAAIF,IAAJ,EAAU;AACRT,kBAAAA,KAAK,CAACO,MAAD,CAAL,CAAcK,EAAd,CAAiBJ,QAAjB,EAA2B;AAAEK,oBAAAA,KAAK,EAAEZ,IAAI,CAACe;AAAd,mBAA3B,EAAgDC,KAAhD;AACD;AACF,eAPH,EAQGA,KARH;AASD,aAVM,CAAP;AADe;AAYhB;;AAE4B,eAATC,SAAS,CAC3BX,MAD2B,EAE3BK,EAF2B,EAG3BJ,QAH2B,EAIZ;AAAA;AACf,mBAAO,IAAIE,OAAJ,CAAmBC,OAAD,IAAa;AACpCX,cAAAA,KAAK,CAACO,MAAD,CAAL,CACGK,EADH,CACMJ,QADN,EACgB;AACXW,gBAAAA,QAAQ,EAAEP,EADC,CAEX;AACD;AACA;AACA;AACA;;AANY,eADhB,EASGG,IATH,CASQ,MAAM;AACVJ,gBAAAA,OAAO;AACR,eAXH,EAYGM,KAZH;AAaD,aAdM,CAAP;AADe;AAgBhB;;AAE0C,eAAvBG,uBAAuB,CACzCb,MADyC,EAEzCK,EAFyC,EAGzCJ,QAHyC,EAIzCa,KAJyC,EAK1B;AAAA;AACf,kBAAM;AAAA;AAAA,gCAAMA,KAAN,CAAN;AACA,mBAAO,IAAIX,OAAJ,CAAmBC,OAAD,IAAa;AACpCX,cAAAA,KAAK,CAACO,MAAD,CAAL,CACGK,EADH,CACMJ,QADN,EACgB;AAAEW,gBAAAA,QAAQ,EAAEP;AAAZ,eADhB,EAEGG,IAFH,CAEQ,MAAM;AACVJ,gBAAAA,OAAO;AACR,eAJH,EAKGM,KALH;AAMD,aAPM,CAAP;AAFe;AAUhB;;AAxD0C,O","sourcesContent":["import { _decorator, Component, Node, tween, Vec3 } from \"cc\";\nimport { sleep } from \"../Promises\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"EffectManager\")\nexport class EffectManager extends Component {\n  public static async decreaseScale(\n    target: Node,\n    duration: number,\n    yoyo: boolean\n  ): Promise<void> {\n    return new Promise<void>((resolve) => {\n      tween(target)\n        .to(duration, { scale: Vec3.ZERO })\n        .call(() => {\n          resolve();\n          if (yoyo) {\n            tween(target).to(duration, { scale: Vec3.ONE }).start();\n          }\n        })\n        .start();\n    });\n  }\n\n  public static async movePiece(\n    target: Node,\n    to: Vec3,\n    duration: number,\n  ): Promise<void> {\n    return new Promise<void>((resolve) => {\n      tween(target)\n        .to(duration, {\n           position: to \n           //new Vec3(\n          //   target.position.x + direction.x * 100,\n          //   target.position.y + direction.y * 100, //buradaki 100'ü sprite brimi boyutuna göre almalıyız dinamik yap!!!\n          //   target.position.z + direction.z * 100\n          // ),\n        })\n        .call(() => {\n          resolve();\n        })\n        .start();\n    });\n  }\n\n  public static async fallPieceToGridPosition(\n    target: Node,\n    to: Vec3,\n    duration: number,\n    delay: number\n  ): Promise<void> {\n    await sleep(delay);\n    return new Promise<void>((resolve) => {\n      tween(target)\n        .to(duration, { position: to })\n        .call(() => {\n          resolve();\n        })\n        .start();\n    });\n  }\n}\n"]}